## API Report File for "@rushstack/heft"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { AsyncParallelHook } from 'tapable';
import { CommandLineChoiceListParameter } from '@rushstack/ts-command-line';
import { CommandLineChoiceParameter } from '@rushstack/ts-command-line';
import { CommandLineFlagParameter } from '@rushstack/ts-command-line';
import { CommandLineIntegerListParameter } from '@rushstack/ts-command-line';
import { CommandLineIntegerParameter } from '@rushstack/ts-command-line';
import { CommandLineParameter } from '@rushstack/ts-command-line';
import type { CommandLineParameterProvider } from '@rushstack/ts-command-line';
import { CommandLineStringListParameter } from '@rushstack/ts-command-line';
import { CommandLineStringParameter } from '@rushstack/ts-command-line';
import { FileErrorFormat } from '@rushstack/node-core-library';
import { IPackageJson } from '@rushstack/node-core-library';
import { ITerminal } from '@rushstack/node-core-library';
import { ITerminalProvider } from '@rushstack/node-core-library';
import { RigConfig } from '@rushstack/rig-package';
import { Terminal } from '@rushstack/node-core-library';

export { CommandLineChoiceListParameter }

export { CommandLineChoiceParameter }

export { CommandLineFlagParameter }

export { CommandLineIntegerListParameter }

export { CommandLineIntegerParameter }

export { CommandLineParameter }

export { CommandLineStringListParameter }

export { CommandLineStringParameter }

// @public (undocumented)
export class HeftConfiguration {
    get buildFolder(): string;
    get cacheFolder(): string;
    // @internal
    _checkForRigAsync(): Promise<void>;
    get globalTerminal(): Terminal;
    get heftPackageJson(): IPackageJson;
    // @internal (undocumented)
    static initialize(options: _IHeftConfigurationInitializationOptions): HeftConfiguration;
    get projectConfigFolder(): string;
    get projectPackageJson(): IPackageJson;
    get rigConfig(): RigConfig;
    // (undocumented)
    get rigToolResolver(): RigToolResolver;
    get tempFolder(): string;
    get terminalProvider(): ITerminalProvider;
}

// @public (undocumented)
export class HeftLifecycleSession {
    // @internal
    constructor(options: _IHeftLifecycleSessionOptions);
    // (undocumented)
    readonly cacheFolder: string;
    get debugMode(): boolean;
    // (undocumented)
    readonly hooks: IHeftLifecycleHooks;
    // (undocumented)
    readonly logger: ScopedLogger;
    // @internal (undocumented)
    readonly metricsCollector: _MetricsCollector;
    // (undocumented)
    readonly parametersByLongName: ReadonlyMap<string, CommandLineParameter>;
    readonly requestAccessToPluginByName: RequestAccessToPluginByNameCallback;
    // (undocumented)
    readonly tempFolder: string;
}

// @public (undocumented)
export class HeftTaskSession {
    // @internal
    constructor(options: _IHeftTaskSessionOptions);
    // (undocumented)
    readonly cacheFolder: string;
    get debugMode(): boolean;
    // (undocumented)
    readonly hooks: IHeftTaskHooks;
    // (undocumented)
    readonly logger: ScopedLogger;
    // @internal (undocumented)
    readonly metricsCollector: _MetricsCollector;
    // (undocumented)
    readonly parametersByLongName: ReadonlyMap<string, CommandLineParameter>;
    readonly requestAccessToPluginByName: RequestAccessToPluginByNameCallback;
    // (undocumented)
    readonly taskName: string;
    // (undocumented)
    readonly tempFolder: string;
}

// @public
export interface ICopyOperation extends IFileGlobSpecifier {
    destinationFolders: string[];
    flatten?: boolean;
    hardlink?: boolean;
}

// @public
export interface IDeleteOperation extends IFileGlobSpecifier {
}

// @public
export interface IFileGlobSpecifier {
    excludeGlobs?: string[];
    fileExtensions?: string[];
    includeGlobs?: string[];
    sourceFolder: string;
}

// @internal (undocumented)
export interface _IHeftConfigurationInitializationOptions {
    cwd: string;
    terminalProvider: ITerminalProvider;
}

// @public (undocumented)
export interface IHeftLifecycleCleanHookOptions extends IHeftLifecycleHookOptions {
    // (undocumented)
    addDeleteOperations: (...deleteOperations: IDeleteOperation[]) => void;
}

// @public (undocumented)
export interface IHeftLifecycleHookOptions {
    // (undocumented)
    production: boolean;
    // (undocumented)
    verbose: boolean;
}

// @public (undocumented)
export interface IHeftLifecycleHooks {
    // (undocumented)
    clean: AsyncParallelHook<IHeftLifecycleCleanHookOptions>;
    // (undocumented)
    recordMetrics: AsyncParallelHook<IHeftRecordMetricsHookOptions>;
    // (undocumented)
    toolStart: AsyncParallelHook<IHeftLifecycleToolStartHookOptions>;
    // (undocumented)
    toolStop: AsyncParallelHook<IHeftLifecycleToolStopHookOptions>;
}

// @public (undocumented)
export interface IHeftLifecyclePlugin<TOptions = void> extends IHeftPlugin<HeftLifecycleSession, TOptions> {
}

// @internal (undocumented)
export interface _IHeftLifecycleSessionOptions extends _IInternalHeftSessionOptions {
    // (undocumented)
    lifecycleHooks: IHeftLifecycleHooks;
    // (undocumented)
    logger: ScopedLogger;
    // (undocumented)
    parametersByLongName: ReadonlyMap<string, CommandLineParameter>;
    // Warning: (ae-forgotten-export) The symbol "HeftPluginDefinitionBase" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    pluginDefinition: HeftPluginDefinitionBase;
    // (undocumented)
    requestAccessToPluginByName: RequestAccessToPluginByNameCallback;
}

// @public (undocumented)
export interface IHeftLifecycleToolStartHookOptions extends IHeftLifecycleHookOptions {
}

// @public (undocumented)
export interface IHeftLifecycleToolStopHookOptions extends IHeftLifecycleHookOptions {
}

// @public (undocumented)
export interface IHeftPlugin<TSession extends HeftLifecycleSession | HeftTaskSession = HeftLifecycleSession | HeftTaskSession, TOptions = void> {
    // (undocumented)
    readonly accessor?: object;
    // (undocumented)
    apply(session: TSession, heftConfiguration: HeftConfiguration, pluginOptions?: TOptions): void;
}

// @public (undocumented)
export interface IHeftRecordMetricsHookOptions {
    // (undocumented)
    metricData: IMetricsData;
    // (undocumented)
    metricName: string;
}

// @public (undocumented)
export interface IHeftTaskCleanHookOptions extends IHeftTaskHookOptions {
    // (undocumented)
    addDeleteOperations: (...deleteOperations: IDeleteOperation[]) => void;
}

// @public (undocumented)
export interface IHeftTaskHookOptions {
    // (undocumented)
    production: boolean;
    // (undocumented)
    verbose: boolean;
}

// @public (undocumented)
export interface IHeftTaskHooks {
    // (undocumented)
    clean: AsyncParallelHook<IHeftTaskCleanHookOptions>;
    // (undocumented)
    run: AsyncParallelHook<IHeftTaskRunHookOptions>;
}

// @public (undocumented)
export interface IHeftTaskPlugin<TOptions = void> extends IHeftPlugin<HeftTaskSession, TOptions> {
    // (undocumented)
    apply(taskSession: HeftTaskSession, heftConfiguration: HeftConfiguration, pluginOptions?: TOptions): void;
}

// @public (undocumented)
export interface IHeftTaskRunHookOptions extends IHeftTaskHookOptions {
    // (undocumented)
    addCopyOperations: (...copyOperations: ICopyOperation[]) => void;
}

// Warning: (ae-forgotten-export) The symbol "IHeftPhaseSessionOptions" needs to be exported by the entry point index.d.ts
//
// @internal (undocumented)
export interface _IHeftTaskSessionOptions extends IHeftPhaseSessionOptions {
    // (undocumented)
    logger: ScopedLogger;
    // (undocumented)
    parametersByLongName: ReadonlyMap<string, CommandLineParameter>;
    // (undocumented)
    requestAccessToPluginByName: RequestAccessToPluginByNameCallback;
    // Warning: (ae-forgotten-export) The symbol "HeftTask" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    task: HeftTask;
    // (undocumented)
    taskHooks: IHeftTaskHooks;
}

// @internal (undocumented)
export interface _IInternalHeftSessionOptions {
    // (undocumented)
    getIsDebugMode(): boolean;
    // (undocumented)
    heftConfiguration: HeftConfiguration;
    // Warning: (ae-forgotten-export) The symbol "LoggingManager" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    loggingManager: LoggingManager;
    // (undocumented)
    metricsCollector: _MetricsCollector;
}

// @public (undocumented)
export interface IMetricsData {
    command: string;
    commandParameters: Record<string, string>;
    encounteredError?: boolean;
    machineArch: string;
    machineCores: number;
    machineOs: string;
    machineProcessor: string;
    machineTotalMemoryMB: number;
    taskTotalExecutionMs: number;
}

// @internal (undocumented)
export interface _IPerformanceData {
    // (undocumented)
    encounteredError?: boolean;
    // (undocumented)
    taskTotalExecutionMs: number;
}

// @internal (undocumented)
export interface _IRigToolResolverOptions {
    // (undocumented)
    buildFolder: string;
    // (undocumented)
    projectPackageJson: IPackageJson;
    // (undocumented)
    rigConfig: RigConfig;
}

// @beta
export interface IRunScript {
    // (undocumented)
    runAsync?: (options: IRunScriptOptions) => Promise<void>;
}

// @beta
export interface IRunScriptOptions {
    // (undocumented)
    heftConfiguration: HeftConfiguration;
    // (undocumented)
    heftTaskSession: HeftTaskSession;
    // (undocumented)
    runOptions: IHeftTaskRunHookOptions;
    // (undocumented)
    scriptOptions: Record<string, unknown>;
}

// @public (undocumented)
export interface IScopedLogger {
    emitError(error: Error): void;
    emitWarning(warning: Error): void;
    // (undocumented)
    readonly terminal: Terminal;
}

// @public (undocumented)
export interface IScopedLoggerOptions {
    // (undocumented)
    errorHasBeenEmittedCallback: () => void;
    // (undocumented)
    getShouldPrintStacks: () => boolean;
    // (undocumented)
    loggerName: string;
    // (undocumented)
    terminalProvider: ITerminalProvider;
}

// @internal
export class _MetricsCollector {
    recordAsync(command: string, performanceData?: Partial<_IPerformanceData>, parameters?: Record<string, string>): Promise<void>;
    // (undocumented)
    readonly recordMetricsHook: AsyncParallelHook<IHeftRecordMetricsHookOptions>;
    setStartTime(): void;
}

// @public (undocumented)
export type RequestAccessToPluginByNameCallback = (pluginToAccessPackage: string, pluginToAccessName: string, pluginApply: (pluginAccessor: object) => void) => void;

// @public (undocumented)
export class RigToolResolver {
    // @internal
    constructor(options: _IRigToolResolverOptions);
    // (undocumented)
    resolvePackageAsync(packageName: string, terminal: ITerminal): Promise<string>;
}

// @public (undocumented)
export class ScopedLogger implements IScopedLogger {
    // @internal
    constructor(options: IScopedLoggerOptions);
    emitError(error: Error): void;
    emitWarning(warning: Error): void;
    // (undocumented)
    get errors(): ReadonlyArray<Error>;
    // (undocumented)
    readonly loggerName: string;
    // (undocumented)
    readonly terminal: Terminal;
    // (undocumented)
    readonly terminalProvider: ITerminalProvider;
    // (undocumented)
    get warnings(): ReadonlyArray<Error>;
}

// (No @packageDocumentation comment for this package)

```
